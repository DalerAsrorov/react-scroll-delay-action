(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(24)},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n.n(o),c=n(5),i=n(6),u=n(8),d=n(7),s=n(9),m=n(26),h=n(28),f=n(27),p=n(15),y=n(14),b=function(e){return e||window},g=function(e,t){if(!e)return!1;var n=e.getBoundingClientRect(),a=(b(t),n.top),r=n.bottom;return a>=0&&r<=window.innerHeight},E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).checkIfViewIsReached=function(){return g(n.nodeRef)},n.nodeRef=r.a.createRef(),n.state={parentNode:e.parentNode},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.id,a=t.delayTime,r=t.callOnce,o=t.parentNode,l=t.onStart,c=t.onEnd,i=b(o);this.setState({parentNode:i}),i&&i.addEventListener("scroll",function(){e.checkIfViewIsReached()&&!e.delayTimeout&&(l&&l(n),e.delayTimeout=setTimeout(function(){clearTimeout(e.delayTimeout),c&&e.checkIfViewIsReached()&&c(n),r||(e.delayTimeout=void 0)},a))})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayTimeout)}},{key:"render",value:function(){var e=this,t=this.props.children;return r.a.Children.map(t,function(t){return t?r.a.cloneElement(t,{ref:function(t){return e.nodeRef=t}}):null})}}]),t}(a.PureComponent),v={background:"blue",width:"100%",height:"300px",margin:"20px 0px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"24px",fontWeight:600},x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={currentNodeIndex:0},n.handleDelayedAction=function(e){console.log("onEnd called: ".concat(e)),n.setState({currentNodeIndex:e})},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentNodeIndex,n=this.props,a=n.delayTime,o=n.nBoxes,l=Object(y.a)(Array(o).map(function(e,t){return t}));return r.a.createElement(r.a.Fragment,null,l.map(function(n,o){return r.a.createElement(E,{key:o,id:o,delayTime:a,onEnd:e.handleDelayedAction},r.a.createElement("article",{key:o,style:Object(p.a)({},v,{background:(l=o===t,l?"lightblue":"blue")})},o+1));var l}))}}]),t}(a.PureComponent),w={height:"250px",width:"50%",background:"orange",margin:"2000px auto",display:"flex",alignItems:"center",justifyContent:"center"},j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={boxText:"Waiting for you...",shouldCongratulate:!1},n.handleDelayedAction=function(){var e=n.props.delayTime;n.setState({shouldCongratulate:!0,boxText:"Tada!!! You stared at me for ".concat(e/1e3," seconds.")})},n.handleDelayedStart=function(){n.setState({boxText:"You are finally here! Wait for it..."})},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.boxText,n=e.shouldCongratulate,a=this.props.delayTime;return r.a.createElement("div",{style:{height:"40000px"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Scroll down!!!"),r.a.createElement("div",{style:w},r.a.createElement(E,{onStart:this.handleDelayedStart,onEnd:this.handleDelayedAction,delayTime:a,id:"banner",callOnce:!0},r.a.createElement("article",{id:"banner"},t),n&&r.a.createElement("p",{style:{textAlign:"center"}},"\ud83d\ude09"))))}}]),t}(r.a.PureComponent),O={width:"100%",height:"100%"},T=function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.a,{to:"/multiple-items"},"Multiple items - delayed actions for collection of elements.")),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/single-banner"},"Scroll event attached to a single element with delayed action."))))},k=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:O},r.a.createElement(h.a,{basename:"/react-scroll-delay-action"},r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{exact:!0,path:"/",component:T}),r.a.createElement(f.a,{exact:!0,path:"/multiple-items",component:function(){return r.a.createElement(x,{nBoxes:15,delayTime:3e3})}}),r.a.createElement(f.a,{exact:!0,path:"/single-banner",component:function(){return r.a.createElement(j,{delayTime:5e3})}}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.382ab85f.chunk.js.map